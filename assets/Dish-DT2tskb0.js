import{c as b,r as g,s as S,a as B,o as C,b as _,u as o,d as D,U as T,e as c,w as N,f as n,g as h,h as m,i as s,j as d,k as v,t as i,n as e}from"./index-C1Uq-uBP.js";const I={key:0,class:e("scrollable"),style:{flex:1,display:"flex",flexDirection:"column"}},L={style:{height:"100%",width:"100%",position:"relative",backgroundColor:"var(--white-color)"},class:e("flex-center")},V=["src"],E={class:e("container"),style:{marginTop:"30px",marginBottom:"20px"}},H={class:e("row-c-sb"),style:{marginBottom:"14px"}},M={class:e("t16")},R={class:e("t16")},$={class:e("container")},z={style:{borderRadius:"10px",backgroundColor:"var(--white-color)"},class:e("row-c-sb")},F={style:{paddingTop:"14px",paddingBottom:"14px",paddingLeft:"20px"}},G={style:{fontSize:"20px",fontWeight:"var(--fw-bold)",fontFamily:"DM Sans"}},U={class:e("row-c")},j={class:e("t14")},q={class:e("container"),style:{paddingBottom:"20px",paddingTop:"10px"}},A={key:1,class:e("flex-center"),style:{height:"100%",width:"100%"}},J={__name:"Dish",setup(P){const{router:Q,route:x}=b.useRouter(),y=x.params.id,t=g(null),l=g(!1),r=S.cartStore(),f=B(()=>t.value?r.getItemQty(t.value.id):0),k=async()=>{l.value=!0;try{const p=(await D.get(T.GET_DISHES)).data.dishes.find(w=>w.id===parseInt(y,10));t.value=p}catch(u){console.error("error",u)}finally{l.value=!1}};return C(()=>{k()}),(u,a)=>(c(),_(o(h).Screen,null,{default:N(()=>[n(o(h).Header,{showGoBack:!0,showBasket:!0}),!l.value&&t.value?(c(),m("div",I,[s("section",L,[s("img",{src:t.value.image,style:{width:"70%",height:"auto"}},null,8,V),n(o(d).HeartBigSvg,{dish:t.value,containerStyle:{position:"absolute",top:"25px",right:"23px"}},null,8,["dish"]),t.value.isNew?(c(),_(o(d).NewBigSvg,{key:0,style:{position:"absolute",top:"21px",left:"20px"}})):v("",!0)]),s("section",E,[s("div",H,[a[2]||(a[2]=s("h3",null,"Vegetable salad",-1)),s("span",M,i(t.value.kcal)+" kcal - "+i(t.value.weight)+"g ",1)]),s("p",R,i(t.value.description),1)]),s("section",$,[s("div",z,[s("div",F,[s("span",G,"$"+i(t.value.price),1)]),s("div",U,[s("button",{style:{padding:"20px"},onClick:a[0]||(a[0]=p=>o(r).removeFromCart(t.value))},[n(o(d).DishMinusSvg)]),s("span",j,i(f.value),1),s("button",{style:{padding:"20px"},onClick:a[1]||(a[1]=p=>o(r).addToCart(t.value))},[n(o(d).DishPlusSvg)])])])]),s("section",q,[n(o(h).Button,{title:"+ Add to cart",onClick:()=>o(r).addToCart(t.value)},null,8,["onClick"])])])):v("",!0),l.value?(c(),m("div",A,a[3]||(a[3]=[s("span",{class:e("t16")},"Loading...",-1)]))):v("",!0)]),_:1}))}};export{J as default};

import{c as x,r as A,b as C,w as T,u as a,e as o,f as _,g as p,h as n,i as s,F as v,q as B,k as g,n as i,v as k,t as e,m as h}from"./index-C1Uq-uBP.js";const E={key:0,class:i("scrollable container"),style:{paddingTop:"10px",paddingBottom:"10px"}},D={class:i("accordion")},F=["open","onToggle"],V={class:"row-c",style:{marginBottom:"6px"}},L={class:"t14",style:{marginRight:"4px",fontWeight:"500",color:"var(--main-color)"}},S={class:"t10",style:{marginRight:"auto",marginTop:"4px"}},$={class:"t14",style:{fontWeight:"500",color:"var(--main-color)"}},N={class:"row-c-sb"},W={class:"t12"},G={style:{padding:"20px"}},H={class:"t14"},I={class:"t14",style:{marginLeft:"auto"}},q={class:i("row-c-sb"),style:{marginBottom:"8px"}},z={class:"t14"},K={class:i("row-c-sb")},U={class:"t14"},Y={key:0,class:"row-c",style:{marginBottom:"20px",gap:"15px"}},j={key:1,class:"row-c",style:{marginBottom:"20px",gap:"15px"}},J={key:1,class:i("flex-center"),style:{height:"100%",width:"100%"}},Q={__name:"OrderHistory",setup(M){const{router:m}=x.useRouter(),{ordersLoading:y,orders:f}=x.useGetOrders(),d=A(new Set),u=l=>d.value.has(l),w=l=>{d.value.has(l)?d.value.delete(l):d.value.add(l)},b=()=>{m.push(h.TRACK_YOUR_ORDER)},R=()=>{m.push(h.TAB_NAVIGATOR)},O=()=>{m.push(h.LEAVE_A_REVIEW)};return(l,c)=>(o(),C(a(p).Screen,null,{default:T(()=>[_(a(p).Header,{showGoBack:!0,title:"Order history"}),a(y)?g("",!0):(o(),n("main",E,[s("section",D,[(o(!0),n(v,null,B(a(f),t=>(o(),n("div",{key:t.id,style:{borderRadius:"10px"}},[s("details",{open:u(t.id),onToggle:r=>w(t.id),style:{backgroundColor:"var(--white-color)",marginBottom:"10px",borderRadius:"10px"}},[s("summary",{style:k({padding:"20px",borderBottom:u(t.id)?"1px solid #DBE9F5":"none"}),class:i("clickable")},[s("section",V,[s("span",L,e(t.date),1),s("span",S," at "+e(t.time),1),s("span",$," $"+e(t.total),1)]),s("section",N,[s("span",W,"Order ID: "+e(t.id),1),s("span",{style:k({padding:"3px 8px",borderRadius:"5px",backgroundColor:t.status==="delivered"?"#00B0B9":t.status==="shipping"?"#FFA462":"#FA5555",color:"#fff",fontWeight:"500",lineHeight:"1.2"}),class:"t10"},e(t.status),5)])],4),s("section",G,[s("ul",null,[(o(!0),n(v,null,B(t.products,r=>(o(),n("li",{key:r.id,class:i("row-c-sb"),style:{marginBottom:"8px"}},[s("span",H,e(r.name),1),s("span",I,e(r.quantity)+" x $"+e(r.price),1)]))),128)),s("li",q,[c[0]||(c[0]=s("span",{class:"t14"},"Discount",-1)),s("span",z,"- $"+e(t.discount),1)]),s("li",K,[c[1]||(c[1]=s("span",{class:"t14"},"Delivery",-1)),s("span",U,"$"+e(t.delivery),1)])])])],40,F),u(t.id)&&t.status==="shipping"?(o(),n("div",Y,[_(a(p).Button,{title:"track order",onClick:b})])):g("",!0),u(t.id)&&t.status!=="shipping"?(o(),n("div",j,[_(a(p).Button,{title:"repeat order",onClick:R,colorScheme:"secondary"}),_(a(p).Button,{title:"leave review",onClick:O})])):g("",!0)]))),128))])])),a(y)?(o(),n("div",J,c[2]||(c[2]=[s("span",{class:i("t16")},"Loading...",-1)]))):g("",!0)]),_:1}))}};export{Q as default};
